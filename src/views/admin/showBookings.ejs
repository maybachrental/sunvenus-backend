<div class="app-content-header">
    <div class="container-fluid d-flex justify-content-between align-items-center">
        <h3 class="mb-0 fw-bold">Bookings</h3>
    </div>
</div>

<div class="app-content">
    <div class="container-fluid">

        <!-- Filters -->
        <form method="GET" class="row g-3 mb-3">
            <div class="col-md-4">
                <input type="text" name="search" value="<%= query.search || '' %>" class="form-control"
                    placeholder="Search by car name" />
            </div>

            <div class="col-md-3">
                <select name="booking_status" class="form-select">
                    <option value="">Booking Status</option>
                    <option value="CONFIRMED">CONFIRMED</option>
                    <option value="ONGOING">ONGOING</option>
                    <option value="COMPLETED">COMPLETED</option>
                    <option value="CANCELLED">CANCELLED</option>
                    <option value="PENDING_PAYMENT">PENDING PAYMENT</option>
                </select>
            </div>

            <div class="col-md-3">
                <select name="payment_status" class="form-select">
                    <option value="">Payment Status</option>
                    <option value="PAID">PAID</option>
                    <option value="PENDING">PENDING</option>
                    <option value="FAILED">FAILED</option>
                </select>
            </div>

            <div class="col-md-2">
                <button class="btn btn-dark w-100">Apply</button>
            </div>
        </form>

        <!-- Table -->
        <div class="card card-dark">
            <div class="card-body table-responsive p-0">
                <table class="table table-hover text-nowrap">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Booking Code</th>
                            <th>User</th>
                            <th>Car</th>
                            <th>Pickup</th>
                            <th>Type</th>
                            <th>Total</th>
                            <th>Payment</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% bookings.forEach(b=> { %>
                            <tr>
                                <td>
                                    <%= b.id %>
                                </td>
                                <td>
                                    <%= b.booking_code %>
                                </td>
                                <td>
                                   
                                </td>
                                <td>
                                    
                                </td>
                                <td>
                                    <%= b.pickup_datetime %>
                                </td>
                                <td>
                                    <span class="badge bg-info">
                                        <%= b.booking_type %>
                                    </span>
                                </td>
                                <td>â‚¹ <%= b.total_price %>
                                </td>
                                <td>
                                    <span class="badge bg-<%= b.payment_status === 'PAID' ? 'success' : 'warning' %>">
                                        <%= b.payment_status %>
                                    </span>
                                </td>
                                <td>
                                    <span class="badge bg-primary">
                                        <%= b.booking_status %>
                                    </span>
                                </td>
                            </tr>
                            <% }) %>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Pagination -->
        <nav class="mt-3">
            <ul class="pagination justify-content-end">
                <% for(let i=1; i <=totalPages; i++) { %>
                    <li class="page-item <%= currentPage === i ? 'active' : '' %>">
                        <a class="page-link"
                            href="?page=<%= i %>&search=<%= query.search || '' %>&booking_status=<%= query.booking_status || '' %>&payment_status=<%= query.payment_status || '' %>">
                            <%= i %>
                        </a>
                    </li>
                    <% } %>
            </ul>
        </nav>

    </div>
</div>
  